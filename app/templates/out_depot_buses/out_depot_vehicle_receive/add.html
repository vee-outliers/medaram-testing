{% extends 'side_bar.html' %}

{% load static %}

{% block title %}Login{% endblock %}

{% block htmlbody %}

<!--app-content open-->
				<div class="app-content main-content mt-0">
					<div class="side-app">
						<!-- CONTAINER -->
						<div class="main-container container-fluid">

							<!-- PAGE-HEADER -->
							<div class="page-header">
								<div>
									<h1 class="page-title">Manage Out Depot Buses</h1>
								</div>
								<div class="ms-auto pageheader-btn">
									<ol class="breadcrumb">
										<li class="breadcrumb-item"><a href="javascript:void(0);">Manage Out Depot Buses</a></li>
										<li class="breadcrumb-item active" aria-current="page">Out Depot Buses Receive</li>
									</ol>
								</div>
							</div>
							<!-- PAGE-HEADER END -->



							<!-- Row -->
							<div class="row row-sm">
								<div class="col-lg-12">
									<div class="row">
                                        <div class="col-md-12">
                                        </div>
                                    </div>

									<div class="card">
										<center>
										{% if messages %}
											{% for message in messages %}
											<div class="container-fluid p-0">
											  <div class="alert {{ message.tags }} alert-dismissible" role="alert" >
												<button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
												  <span aria-hidden="True">&times;</span>
												</button>
												{{ message }}
											  </div>
											</div>
											{% endfor %}
										{% endif %}
										</center>
										<div class="card-body">
											<a  href="{% url 'app:out_depot_buses_receive_list' %}" target="_blank"><input type="button" value="Out Depot Vehicle Receive List" class="btn btn-primary float-right" style="margin: 0 20px 20px 0;"></a>

											<form class="form-horizontal row" action="{% url 'app:search_special_bus_data' %}" method="post" enctype="multipart/form-data"> {% csrf_token %}
												<div class="card mb-3">
            										<div class="card-body">
														<div class="row">
												<div class="form-group col-md-6">
													<label class="form-label" for="bus_number">Bus Number</label>
													<select class="form-control custom-select" name="bus_number" id="bus_number" required>
                                                     	<option value="">Select Option</option>
                                                        	{% for special_bus in special_bus_numbers_data %}
                                                            	<option value="{{ special_bus.bus_number.bus_number }}">
                                                                	{{ special_bus.bus_number.bus_number }}
                                                                </option>
                                                            {% endfor %}
                                                    </select>
												</div>
												<div class="form-group mt-3">
													<div>
														<button type="submit" class="btn btn-primary">Search</button>
													</div>
												</div>
														</div>
													</div>
												</div>
											</form>
										</div>
										<div class="card-header border-bottom">
											<h3 class="card-title">Special Bus Details</h3>
										</div>
										<div class="card-body">
											<form class="form-horizontal row" action="#" method="post" enctype="multipart/form-data"> {% csrf_token %}


                                                <div class="form-group col-md-6">
                                                    <label class="form-label">Parent Depot Name</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.special_bus_sending_depot.name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label">Reporting Depot Name</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.special_bus_reporting_depot.name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label">Bus Type</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.bus_type.name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label">Bus Number</label>
                                                    <input type="text" id="out_depo_bus_number" class="form-control" value="{{special_bus_data.bus_number.bus_number}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Log Sheet Number</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.log_sheet_no}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-1 Name</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver1_name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-1 Phone No</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver1_phone_number}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-1 Staff No</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver1_staff_no}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-2 Name</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver2_name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-2 Phone No</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver2_phone_number}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Driver-2 Staff No</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.driver2_staff_no}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Bus Incharge Name</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.incharge_name}}" readonly>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" >Incharge Phone No</label>
                                                    <input type="text" class="form-control" value="{{special_bus_data.incharge_phone_number}}" readonly>
												</div>

											</form>
										</div>
										<div class="card-header border-bottom">
											<h3 class="card-title">Out Depot Vehicle Receive</h3>
										</div>
										<div class="card-body">
											<form class="form-horizontal row" action="{% url 'app:out_depot_buses_receive_add' %}" method="post" enctype="multipart/form-data"> {% csrf_token %}

												<input type="hidden" id="out_depot_vehicle_receive_bus_number" name="out_depot_vehicle_receive_bus_number" value="{{special_bus_data.bus_number.bus_number}}">

												<div class="form-group col-md-6">
    												<label class="form-label" for="unique_no">Unique No:</label>
    												<input type="text" id="unique_no" name="unique_no" class="form-control" required pattern="^\d{4}$" title="Please enter exactly four digits" oninput="validateInput()">
    												<span id="validationMessage" style="color: red;"></span>
												</div>

                                                <div class="form-group col-md-6">
                                                    <label class="form-label" for="new_log_sheet_no">Received Log Sheet Number:</label>
                                                    <input type="number" id="new_log_sheet_no" name="new_log_sheet_no" class="form-control" required>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" for="hsd_top_oil_liters">Hsd top_oil liters</label>
                                                    <input type="text" id="hsd_top_oil_liters" name="hsd_top_oil_liters" class="form-control" required pattern="^\d{1,3}$" title="Please enter up to 3 digits only" oninput="validate_hsd_top_oilInput()">
													<span id="validation_message" style="color: red;"></span>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" for="mts_no">MTS No</label>
                                                    <input type="number" id="mts_no" name="mts_no" class="form-control" required>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" for="bus_reported_date"> Bus Reported Date</label>
                                                    <input type="date" id="bus_reported_date" name="bus_reported_date" class="form-control" required>
												</div>

												<div class="form-group col-md-6">
                                                    <label class="form-label" for="bus_reported_time">Bus Reported Time</label>
                                                    <input type="time" id="bus_reported_time" name="bus_reported_time" class="form-control" required>
												</div>

												<div class="form-group mt-3">
													<div>
														<button type="submit" class="btn btn-primary">Submit</button>
														<a href="{% url 'app:out_depot_buses_receive_list' %}">
															<button type="button" class="btn btn-secondary">Cancel</button>
														</a>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>
							</div>
							<!-- End Row -->
                      </div>
					</div>
				</div>

{% endblock %}